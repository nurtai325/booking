import{j as e,r as c,b as n,Y as b}from"./app-_IFy_8R5.js";import{A as h}from"./AuthenticatedLayout-DiDqNErf.js";import{u as i}from"./store-BN5roD0P.js";import"./transition-GbJL_Qrm.js";function g({schedule:r}){const t=i(s=>s.kz);return console.log(r),e.jsxs("table",{className:"min-w-full  border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200 ",children:t?"Уақыт":"Время"}),e.jsx("th",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200 ",children:t?"Кімге тіркелген":"Кому прописан"}),r.length===0&&r.map(s=>e.jsx("th",{children:"service.name"})),e.jsx("th",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:t?"Ұзақтығы":"Длительность"}),e.jsx("th",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:t?"Бағасы":"Цена"}),e.jsx("th",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:t?"Қатысушылар":"Участники"})]})}),e.jsx("tbody",{children:r.length===0&&r.map(s=>e.jsx("tr",{children:e.jsx("td",{})}))}),r.length>0?r.map((s,o)=>s.bookings.map((l,x)=>e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"h-10"}),e.jsx("td",{})]}),e.jsxs("tr",{className:"mt-20",children:[e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:l.booking.start_time}),e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:s.service.name}),e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:s.service.duration}),e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:s.service.price}),e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:e.jsx("ul",{children:l.records.map((d,a)=>e.jsxs("li",{children:[d.name," : ",d.phone]},d.record_id))})})]})]},`${o}-${x}`))):e.jsx("tr",{children:e.jsx("td",{className:"border-b-2 border-gray-300 py-2 px-4 text-left bg-gray-200",children:"No schedules available"})})]})}function f({auth:r}){const t=i(a=>a.kz),[s,o]=c.useState(!1),[l,x]=c.useState([]);let d=r.user.id;return c.useEffect(()=>{n.get(`http://localhost:/api/schedule?id=${d}`).then(a=>{x(a.data.data),o(!0)}).catch(a=>console.log(a.message))},[]),e.jsxs(h,{user:r.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-black leading-tight",children:t?" Кесте":"Расписание"}),children:[e.jsx(b,{title:"Dashboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"w-auto mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"dark:bg-none overflow-hidden shadow-sm sm:rounded-lg flex",children:s?e.jsx(g,{schedule:l}):e.jsx("div",{children:t?" Кесте туралы ақпарат жүктелуде...":"Данные расписания загружаются..."})})})})]})}export{f as default};
